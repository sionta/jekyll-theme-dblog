{% if jekyll.environment == 'production' %}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    rel="preconnect"
    href="https://fonts.gstatic.com"
    crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap" rel="stylesheet">

  {% if page.math %}
    <link
      rel="preconnect"
      href="https://cdn.jsdelivr.net/npm"
      crossorigin="anonymous">

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css"
      crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" crossorigin="anonymous"></script>

    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"></script>
  {% endif %}

{% else %}
  <link rel="stylesheet" href="{{ '/assets/fonts/fonts.min.css?v=1.0' | relative_url }}">

  {% if page.math %}
    <link
      rel="stylesheet"
      href="{{ '/assets/lib/katex/katex.min.css' | relative_url }}"
      crossorigin="anonymous">

    <script
      defer
      src="{{ '/assets/lib/katex/katex.min.js' | relative_url }}"
      crossorigin="anonymous"></script>

    <script
      defer
      src="{{ '/assets/lib/katex/contrib/auto-render.min.js' | relative_url }}"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"></script>
  {% endif %}
{% endif %}